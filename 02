!/bin/bash

echo -n "Enter the name to delete and press [ENTER]: " 
read nom_a_del
sudo pkill -u $nom_a_del
passwd -l $nom_a_del
sudo deluser $nom_a_del


# When the argument is not defined
if [[ -z $1 ]]; then
	printf "$USAGE"
	exit
fi

readonly nom_a_del=$1

if [ $(id -u $nom_a_del) == $(id -u $USER) ]; then
	echo "Cannot delete myself"
	exit
fi

if [ "$(who -u | grep $nom_a_del)" == "" ]; then
	echo "The user is not loggued in, do nnot delete it."
	exit
fi

killall -KILL -u $nom_a_del
passwd -l $nom_a_del
userdel -r $nom_a_del